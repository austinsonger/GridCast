<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GridCast</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link rel="stylesheet" href="css/styles.css"> 
</head>
<body>

    <!-- Video Players (2x2 Grid) -->
    <div id="player1" class="player">
        <video id="video1" controls preload="auto"></video>
        <div class="button-container">
            <button class="load-stream" onclick="openLoadStreamModal('video1')">Load Stream</button>
            <button class="repeat-toggle" id="repeat-video1" onclick="toggleRepeatMode('video1')">Repeat: Off</button>
            <button class="remove-video" onclick="removeVideo('video1')">Remove Video</button>
        </div>
        <button class="add-to-playlist" onclick="openAddToPlaylistModal('video1')">Add to Playlist</button>
        <div id="playlist-video1" class="playlist"></div>
    </div>
    
    <div id="player2" class="player">
        <video id="video2" controls preload="auto"></video>
        <div class="button-container">
            <button class="load-stream" onclick="openLoadStreamModal('video2')">Load Stream</button>
            <button class="repeat-toggle" id="repeat-video2" onclick="toggleRepeatMode('video2')">Repeat: Off</button>
            <button class="remove-video" onclick="removeVideo('video2')">Remove Video</button>
        </div>
        <button class="add-to-playlist" onclick="openAddToPlaylistModal('video2')">Add to Playlist</button>
        <div id="playlist-video2" class="playlist"></div>
    </div>
    
    <div id="player3" class="player">
        <video id="video3" controls preload="auto"></video>
        <div class="button-container">
            <button class="load-stream" onclick="openLoadStreamModal('video3')">Load Stream</button>
            <button class="repeat-toggle" id="repeat-video3" onclick="toggleRepeatMode('video3')">Repeat: Off</button>
            <button class="remove-video" onclick="removeVideo('video3')">Remove Video</button>
        </div>
        <button class="add-to-playlist" onclick="openAddToPlaylistModal('video3')">Add to Playlist</button>
        <div id="playlist-video3" class="playlist"></div>
    </div>
    
    <div id="player4" class="player">
        <video id="video4" controls preload="auto"></video>
        <div class="button-container">
            <button class="load-stream" onclick="openLoadStreamModal('video4')">Load Stream</button>
            <button class="repeat-toggle" id="repeat-video4" onclick="toggleRepeatMode('video4')">Repeat: Off</button>
            <button class="remove-video" onclick="removeVideo('video4')">Remove Video</button>
        </div>
        <button class="add-to-playlist" onclick="openAddToPlaylistModal('video4')">Add to Playlist</button>
        <div id="playlist-video4" class="playlist"></div>
    </div>

    <!-- Modals -->
    <div id="urlModal">
        <label for="streamUrl">Enter M3U8 Stream URL:</label>
        <input type="text" id="streamUrl" >
        <label for="mp4File">Or Upload MP4 File:</label>
        <input type="file" id="videoFile" accept="video/mp4,video/x-matroska,video/mkv">
        <button onclick="loadStreamOrFile()">Load</button>
        <button onclick="closeModal()">Cancel</button>
    </div>

    <div id="addToPlaylistModal">
        <label for="addPlaylistUrl">Add URL to Playlist:</label>
        <input type="text" id="addPlaylistUrl" >
        <label for="addMp4File">Or Upload MP4 File:</label>
        <input type="file" id="addVideoFile" accept="video/mp4,video/x-matroska,video/mkv">
        <button onclick="addToPlaylist()">Add</button>
        <button onclick="closeModal()">Cancel</button>
    </div>

    <script src="render.js"></script>

</body>
</html>
